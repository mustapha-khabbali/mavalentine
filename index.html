<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>wach tkoon My Valentine?</title>
    <link rel="icon" type="image/png" href="9alb.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Quicksand:wght@400;600&display=swap');
        
        body {
            font-family: 'Quicksand', sans-serif;
            background-color: #fff5f5;
            overflow-x: hidden;
            touch-action: manipulation;
        }

        .cursive {
            font-family: 'Dancing Script', cursive;
        }

        #no-button {
            transition: all 0.2s ease;
            position: relative; 
        }

        .heart {
            position: fixed;
            pointer-events: none;
            z-index: 100;
            animation: float 3s ease-in forwards;
        }

        @keyframes float {
            0% { transform: translateY(0) scale(1); opacity: 1; }
            100% { transform: translateY(-100vh) scale(1.5); opacity: 0; }
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen p-4 sm:p-8">

    <!-- Initial Question View -->
    <div id="question-container" class="relative flex flex-col items-center text-center w-full max-w-4xl space-y-8 sm:space-y-12">
        
        <!-- Angry Warning Overlay -->
        <div id="angry-warning" class="hidden absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[100] flex-col items-center space-y-4 pointer-events-none w-full max-w-lg">
            <img src="tfo.png" alt="Angry" class="w-64 h-64 sm:w-96 sm:h-96 object-contain drop-shadow-2xl rounded-2xl" onerror="this.style.display='none'">
        </div>

        <div class="relative inline-block">
            <span class="text-6xl sm:text-8xl">üíù</span>
            <div class="absolute -top-2 -right-2 sm:-top-4 sm:-right-4 animate-bounce text-2xl sm:text-4xl">‚ú®</div>
        </div>
        
        <h1 class="text-4xl sm:text-6xl md:text-7xl font-bold text-pink-600 cursive px-2">
            wach msali(a) nhar 14?
        </h1>

        <!-- Buttons -->
        <div class="flex flex-row items-center justify-center gap-6 sm:gap-12 w-full pt-4">
            <button id="yes-button" 
                class="px-6 py-3 sm:px-10 sm:py-4 bg-pink-500 hover:bg-pink-600 text-white text-xl sm:text-2xl font-bold rounded-full shadow-lg transform transition hover:scale-105 active:scale-95 whitespace-nowrap">
                AH! üíñ
            </button>
            
            <button id="no-button" 
                class="px-6 py-3 sm:px-10 sm:py-4 bg-gray-400 text-white text-xl sm:text-2xl font-bold rounded-full shadow-lg z-50 whitespace-nowrap">
                la
            </button>
        </div>
    </div>

    <!-- Success View -->
    <div id="success-container" class="hidden flex flex-col items-center text-center space-y-6 px-4">
        <h1 class="text-4xl sm:text-6xl md:text-8xl font-bold text-pink-600 cursive animate-pulse">
            Yay! See you then! ü•∞
        </h1>
        <div class="mt-4 sm:mt-8">
            <img src="love.gif" alt="Love" class="w-48 h-48 sm:w-64 sm:h-64 object-contain mx-auto">
        </div>
        <p class="text-pink-400 text-lg sm:text-xl italic">I knew you'd say yes!</p>
    </div>

    <script>
        const noBtn = document.getElementById('no-button');
        const yesBtn = document.getElementById('yes-button');
        const questionContainer = document.getElementById('question-container');
        const successContainer = document.getElementById('success-container');
        const angryWarning = document.getElementById('angry-warning');

        const bgMusic = new Audio('avec.mp3');
        bgMusic.loop = true;

        const playMusic = () => {
            bgMusic.play().catch(error => console.log("Audio playback failed:", error));
        };

        let isMoved = false;
        let noCount = 0;
        let warningTimeout = null;

        function hideWarning() {
            angryWarning.classList.add('hidden');
            angryWarning.classList.remove('flex');
            noCount = 0; 
            if (warningTimeout) clearTimeout(warningTimeout);
        }

        function moveButton() {
            noCount++;
            
            if (noCount >= 10) {
                angryWarning.classList.remove('hidden');
                angryWarning.classList.add('flex');
                
                if (warningTimeout) clearTimeout(warningTimeout);
                warningTimeout = setTimeout(hideWarning, 6000);
            }

            if (!isMoved) {
                const rect = noBtn.getBoundingClientRect();
                noBtn.style.left = `${rect.left}px`;
                noBtn.style.top = `${rect.top}px`;
                noBtn.style.position = 'fixed';
                isMoved = true;
                setTimeout(applyRandomPosition, 10);
            } else {
                applyRandomPosition();
            }
        }

        function applyRandomPosition() {
            const padding = 20;
            const btnWidth = noBtn.offsetWidth;
            const btnHeight = noBtn.offsetHeight;
            
            const maxX = window.innerWidth - btnWidth - padding;
            const maxY = window.innerHeight - btnHeight - padding;

            const randomX = Math.max(padding, Math.floor(Math.random() * maxX));
            const randomY = Math.max(padding, Math.floor(Math.random() * maxY));

            noBtn.style.left = `${randomX}px`;
            noBtn.style.top = `${randomY}px`;
        }

        document.addEventListener('click', () => {
            if (!angryWarning.classList.contains('hidden')) {
                hideWarning();
            }
        });

        noBtn.addEventListener('mouseover', moveButton);

        noBtn.addEventListener('touchstart', (e) => {
            e.preventDefault();
            e.stopPropagation();
            moveButton();
        });

        yesBtn.addEventListener('click', (e) => {
            e.stopPropagation(); 
            playMusic(); 
            questionContainer.classList.add('hidden');
            successContainer.classList.remove('hidden');
            successContainer.classList.add('flex');
            startHearts();
        });

        function startHearts() {
            const symbols = ['‚ù§Ô∏è', 'üíñ', 'üíò', 'üíï', '‚ú®'];
            setInterval(() => {
                const heart = document.createElement('div');
                heart.innerHTML = symbols[Math.floor(Math.random() * symbols.length)];
                heart.className = 'heart text-2xl sm:text-3xl';
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.top = '100vh';
                document.body.appendChild(heart);
                setTimeout(() => heart.remove(), 3000);
            }, 150);
        }
    </script>
</body>
</html>
